{% extends 'core/base.html' %}
{% block title %}About Villen Bhai â€” The Mind Behind the Code{% endblock %}
{% load static %}

{% block custom_header %}
<header id="villen-header" class="text-center p-4 bg-dark text-light border-bottom border-info position-relative">
  <h1 class="display-4 fw-bold glow" id="villen-title" style="cursor: pointer;">
    ğŸŒŸ Meet Villen Bhai
  </h1>
  <p class="fs-5 text-secondary mb-4">Code. Hack. Inspire. Repeat.</p>

  <div id="header-buttons" class="d-flex justify-content-center flex-wrap gap-3" style="display: none; opacity: 0;">
    <a href="#achievements" class="btn btn-outline-info rounded-pill">ğŸ† Achievements</a>
    <a href="#education" class="btn btn-outline-warning rounded-pill">ğŸ“ Education</a>
    <a href="#skills" class="btn btn-outline-success rounded-pill">âš™ï¸ Skills</a>
    <a href="#gallery" class="btn btn-outline-light rounded-pill">ğŸ“¸ Gallery</a>
    <a href="#social" class="btn btn-outline-danger rounded-pill">ğŸŒ Connect</a>
  </div>

  <!-- ğŸ‘‡ Hidden Button -->
  <button onclick="toggleHeader()" id="toggle-btn" class="btn btn-sm btn-outline-light position-absolute top-0 end-0 m-3" style="display: none;">
    Hide âœ–ï¸
  </button>
</header>

<!-- Show Header button after hidden -->
<div id="show-header-btn" class="text-center my-3" style="display: none;">
  <button onclick="toggleHeader()" class="btn btn-info rounded-pill">
    Show Header ğŸŒŸ
  </button>
</div>
{% endblock %}

{% block content %}
<!-- Video Background -->
<div id="video-bg">
  <video autoplay muted loop class="video-bg">
    <source src="{% static 'video/birds.mp4' %}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>

<!-- Transparent About Section -->
<section id="about-villen" class="container rounded-4 p-5 my-5 text-center">
  <h2 class="display-4 mb-4 fw-bold" style="color: #00a2ff;">Villen Bhai</h2>
  <p id="dynamic-about" class="fs-5"></p>
</section>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const techSkills = ['Python', 'C++', 'Java', 'Django', 'React.js', 'Kali Linux', 'Ethical Hacking', 'Cybersecurity', 'Network Security', 'Penetration Testing'];
  const passions = ['coding', 'ethical hacking', 'gaming (PUBG, Free Fire, GTA 5, Minecraft)', 'GATE exam prep', 'romantic shayari', 'life advice'];
  const values = ['relentless curiosity', 'unwavering dedication', 'a hunger for knowledge', 'passion for perfection', 'heart full of empathy', 'mind sharp like a blade', 'spirit that never settles'];
  const lifeQuotes = [
    'â€œLife is a code â€” sometimes buggy, always beautiful.â€',
    'â€œIn every failure lies the seed of a stronger comeback.â€',
    'â€œDream big, hustle hard, and code your destiny.â€',
    'â€œWhen passion leads, success follows.â€',
    'â€œThe greatest hack is to live authentically.â€',
    'â€œFrom the darkest nights emerge the brightest stars.â€',
  ];
  const colors = ['#1E90FF', '#FF4500', '#32CD32', '#8A2BE2', '#FFD700', '#FF69B4', '#00CED1', '#FF8C00'];

  function getRandom(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }

  function getRandomColor() {
    return getRandom(colors);
  }

  function generateAboutText() {
    return `
      <p style="color:${getRandomColor()};">By day, I wield my skills in <span class="fw-bold">${getRandom(techSkills)}</span> and <span class="fw-bold">${getRandom(techSkills)}</span>, crafting solutions that bridge logic and creativity.</p>
      <p style="color:${getRandomColor()};">Driven by <span class="fw-semibold">${getRandom(values)}</span>, I dive deep into <span class="fw-semibold">${getRandom(passions)}</span>, whether itâ€™s the thrill of ethical hacking or the poetry hidden in romantic shayari.</p>
      <p style="color:${getRandomColor()};">Every challenge I face, every bug I squash, is a step toward mastery â€” not just of code, but of life itself.</p>
      <p style="color:${getRandomColor()};">I am Villen Bhai â€” a seeker, a creator, a dreamer, and above all, a believer that the journey matters more than the destination.</p>
      <p style="color:${getRandomColor()};"><em class="fw-bold fst-italic">${getRandom(lifeQuotes)}</em></p>
    `;
  }

  const dynamicAbout = document.getElementById('dynamic-about');
  if (dynamicAbout) {
    dynamicAbout.innerHTML = generateAboutText();
  }
});
</script>
{% endblock %}

{% block extra_js %}
<script>
function toggleHeader() {
  const header = document.getElementById('villen-header');
  const showBtn = document.getElementById('show-header-btn');

  if (header.style.display !== 'none') {
    header.style.display = 'none';
    showBtn.style.display = 'block';
  } else {
    header.style.display = 'block';
    showBtn.style.display = 'none';
  }
}

document.addEventListener('DOMContentLoaded', function () {
  const toggleBtn = document.getElementById('toggle-btn');
  const title = document.getElementById('villen-title');
  let hideTimeout;

  title.addEventListener('mouseenter', () => {
    toggleBtn.style.display = 'inline-block';
  });

  title.addEventListener('click', () => {
    toggleBtn.style.display = 'inline-block';
    clearTimeout(hideTimeout);
    hideTimeout = setTimeout(() => {
      toggleBtn.style.display = 'none';
    }, 3000);
  });
});
document.addEventListener('DOMContentLoaded', function () {
  const title = document.getElementById('villen-title');
  const buttons = document.getElementById('header-buttons');
  const toggleBtn = document.getElementById('toggle-btn');
  let hideTimeout;

  // Show buttons with fade
  function showButtons() {
    buttons.style.display = 'flex';
    setTimeout(() => {
      buttons.style.opacity = 1;
    }, 50);
  }

  // Hide buttons with fade
  function hideButtons() {
    buttons.style.opacity = 0;
    setTimeout(() => {
      buttons.style.display = 'none';
    }, 300);
  }

  // Show on hover
  title.addEventListener('mouseenter', () => {
    showButtons();
    clearTimeout(hideTimeout);
  });

  // Show on click + optional auto-hide
  title.addEventListener('click', () => {
    showButtons();
    clearTimeout(hideTimeout);
    hideTimeout = setTimeout(() => {
      hideButtons();
    }, 5000); // hide after 5s
  });

  // Toggle button logic remains unchanged
  title.addEventListener('mouseenter', () => {
    toggleBtn.style.display = 'inline-block';
  });

  title.addEventListener('click', () => {
    toggleBtn.style.display = 'inline-block';
    clearTimeout(hideTimeout);
    hideTimeout = setTimeout(() => {
      toggleBtn.style.display = 'none';
    }, 3000);
  });
});

</script>
{% endblock %}

{% block extra_css %}
<style>
  #video-bg {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    overflow: hidden;
    z-index: -1;
  }

  .video-bg {
    position: absolute;
    top: 50%; left: 50%;
    min-width: 100%; min-height: 100%;
    transform: translate(-50%, -50%);
    object-fit: cover;
    pointer-events: none;
    filter: brightness(0.3);
  }

  #about-villen {
    max-width: 850px;
    margin: 100px auto;
    padding: 40px;
    color: #ffffff;
    font-family: 'Segoe UI', sans-serif;
    font-size: 1.2rem;
    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 10px;
    backdrop-filter: blur(3px);
    text-align: center;
  }

  #about-villen h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    letter-spacing: 1px;
  }

  #about-villen em {
    color: #00e5ff;
    font-weight: 500;
  }

  .glow {
    color: #87cefa;
    font-weight: bold;
    text-shadow: 0 0 10px #00bfff;
  }
  #header-buttons {
  transition: opacity 0.3s ease-in-out;
}

</style>
{% endblock %}
